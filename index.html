<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Respostas</title>
    <style>
        :root {
            --primary: #1a252f;
            --secondary: #2c3e50;
            --accent: #2980b9;
            --success: #27ae60;
            --danger: #e74c3c;
            --light: #d1d8e0;
            --text: #333;
        }

        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--light); margin: 0; display: flex; height: 100vh; color: var(--text); overflow: hidden; }
        
        /* TELA DE LOGIN */
        #login-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--primary); display: flex; align-items: center;
            justify-content: center; z-index: 9999;
        }
        .login-box {
            background: white; padding: 40px; border-radius: 12px;
            text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            width: 300px;
        }
        .login-box h2 { margin-bottom: 20px; color: var(--primary); }
        .login-box input {
            padding: 12px; width: 100%; margin-bottom: 15px;
            border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box;
            font-size: 1rem; text-align: center;
        }
        .login-box button {
            background: var(--accent); color: white; border: none;
            padding: 12px 25px; border-radius: 6px; cursor: pointer; width: 100%;
            font-weight: bold; font-size: 1rem; transition: 0.3s;
        }

        /* MENU LATERAL */
        nav { width: 260px; background: var(--primary); color: white; padding: 20px; display: flex; flex-direction: column; box-shadow: 2px 0 5px rgba(0,0,0,0.1); }
        nav h2 { font-size: 1rem; border-bottom: 1px solid #3e4f5f; padding-bottom: 10px; margin-bottom: 20px; letter-spacing: 1px; color: #95a5a6; }
        .tab-btn { background: none; border: none; color: #bdc3c7; padding: 12px 15px; text-align: left; cursor: pointer; border-radius: 5px; margin-bottom: 8px; transition: 0.3s; font-size: 0.95rem; }
        .tab-btn:hover { background: var(--secondary); color: white; }
        .tab-btn.active { background: var(--accent); color: white; font-weight: bold; }

        /* CONTEÚDO PRINCIPAL */
        main { flex: 1; padding: 30px; overflow-y: auto; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 900px; background: #f0f2f5; padding: 30px; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); height: fit-content; }
        
        h1 { margin-top: 0; color: var(--primary); font-size: 1.6rem; border-left: 5px solid var(--accent); padding-left: 15px; margin-bottom: 20px; }
        
        .model-selector { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 10px; margin-bottom: 25px; }
        .model-btn { position: relative; padding: 12px 10px; border: 1px solid #dfe6e9; border-radius: 6px; cursor: pointer; background: #fff; font-size: 0.85rem; transition: 0.2s; color: var(--secondary); font-weight: 500; min-height: 50px; display: flex; align-items: center; justify-content: center; text-align: center; text-decoration: none; }
        .model-btn:hover { border-color: var(--accent); background: #f0f7ff; }
        .model-btn.active { background: var(--accent); color: white; border-color: var(--accent); box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3); }

        /* ESTILO PARA OPÇÕES DE LINKS */
        .link-options { display: none; position: absolute; bottom: -45px; left: 0; right: 0; background: var(--secondary); border-radius: 4px; padding: 5px; z-index: 10; gap: 5px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        .model-btn.open .link-options { display: flex; }
        .opt-btn { flex: 1; background: var(--accent); color: white; border: none; padding: 5px; border-radius: 3px; font-size: 0.7rem; cursor: pointer; text-decoration: none; text-align: center; }
        .opt-btn:hover { background: #3498db; }

        /* ÁREA DE INPUTS */
        .input-group { background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px dashed #cbd5e0; }
        .input-group label { display: block; margin-bottom: 8px; font-weight: bold; font-size: 0.9rem; color: var(--secondary); }
        textarea, .input-text { width: 100%; padding: 12px; border: 1px solid #ced4da; border-radius: 6px; font-family: inherit; box-sizing: border-box; font-size: 0.9rem; margin-bottom: 10px; }
        textarea { height: 100px; resize: vertical; }
        
        /* PREVIEW EDITÁVEL */
        .preview-area { width: 100%; height: 200px; padding: 20px; border: 2px solid #e2e8f0; border-radius: 8px; background: #fdfdfd; font-family: 'Segoe UI', sans-serif; font-size: 1rem; line-height: 1.6; color: #2d3436; box-sizing: border-box; margin-top: 10px; }
        
        /* BOTÕES DE AÇÃO */
        .action-group { display: flex; gap: 10px; margin-top: 20px; }
        .copy-btn { flex: 3; background: var(--success); color: white; border: none; padding: 18px; border-radius: 6px; cursor: pointer; font-size: 1.1rem; font-weight: bold; transition: 0.3s; }
        .clear-btn { flex: 1; background: var(--danger); color: white; border: none; padding: 18px; border-radius: 6px; cursor: pointer; font-size: 1.1rem; font-weight: bold; transition: 0.3s; }
        .copy-btn:hover { background: #219150; transform: translateY(-2px); }
        .clear-btn:hover { background: #c0392b; transform: translateY(-2px); }
        
        .hidden { display: none; }
        #status { color: var(--success); font-weight: bold; text-align: center; margin-top: 10px; height: 1.2rem; }

        /* BLOCO DE NOTAS */
        #notes-area { width: 100%; height: 450px; font-size: 1rem; padding: 15px; border-radius: 8px; border: 1px solid #ccc; font-family: inherit; }
    </style>
</head>
<body onload="checkLoginState(); loadNotes();">

<div id="login-overlay">
    <div class="login-box">
        <h2>Acesso Restrito</h2>
        <input type="password" id="pass-input" placeholder="Digite a senha..." onkeyup="if(event.key === 'Enter') checkPass()">
        <button onclick="checkPass()">Entrar</button>
        <p id="error-msg" style="color: #e74c3c; font-size: 0.85rem; margin-top: 10px; font-weight: bold;"></p>
    </div>
</div>

<nav>
    <h2>SISTEMAS</h2>
    <button class="tab-btn active" id="btn-sei" onclick="showSystem('sei')">SEI</button>
    <button class="tab-btn" id="btn-eturmalina" onclick="showSystem('eturmalina')">e-Turmalina</button>
    <button class="tab-btn" id="btn-integracao" onclick="showSystem('integracao')">Integração</button>
    <button class="tab-btn" id="btn-grp" onclick="showSystem('grp')">GRP</button>
    <button class="tab-btn" id="btn-documentos" onclick="showSystem('documentos')">Documentos</button>
    <button class="tab-btn" id="btn-utilidades" onclick="showSystem('utilidades')">Utilidades</button>
    <button class="tab-btn" id="btn-notas" onclick="showSystem('notas')">Bloco de Notas</button>
</nav>

<main>
    <div class="container">
        <h1 id="system-title">SEI - Sistema Eletrônico de Informações</h1>
        
        <div id="sei-models" class="model-selector">
            <button class="model-btn" onclick="selectModel('sei', 'criacao')">Criação de Usuário</button>
            <button class="model-btn" onclick="selectModel('sei', 'lotacao')">Lotação</button>
            <button class="model-btn" onclick="selectModel('sei', 'desligamento')">Desligamento</button>
            <button class="model-btn" onclick="selectModel('sei', 'reabertura')">Reabertura de Processo</button>
            <button class="model-btn" onclick="selectModel('sei', 'desanexar')">Desanexar Processo</button>
            <button class="model-btn" onclick="selectModel('sei', 'restrito')">Processo Restrito</button>
            <button class="model-btn" onclick="selectModel('sei', 'sem_resposta')">Chamado sem Resposta</button>
            <button class="model-btn" onclick="selectModel('sei', 'unidade')">Mais de uma Unidade</button>
            <button class="model-btn" onclick="selectModel('sei', 'planilha')">Pedir Planilha</button>
            <button class="model-btn" onclick="selectModel('sei', 'abertura_bd')">Abertura Demanda BD</button>
            <button class="model-btn" onclick="selectModel('sei', 'demanda_user')">Abertura Demanda/User</button>
        </div>
		
        <div id="eturmalina-models" class="model-selector hidden">
            <button class="model-btn" onclick="selectModel('eturmalina', 'criacao_acesso')">Criação de Acesso</button>
            <button class="model-btn" onclick="selectModel('eturmalina', 'reset_senha')">Reset de Senha</button>
            <button class="model-btn" onclick="selectModel('eturmalina', 'abaco')">Chamado Ábaco</button>
        </div>

        <div id="integracao-models" class="model-selector hidden">
            <button class="model-btn" onclick="selectModel('integracao', 'criacao_email')">Criação de Email</button>
            <button class="model-btn" onclick="selectModel('integracao', 'reset_senha')">Reset de Senha</button>
        </div>

        <div id="grp-models" class="model-selector hidden">
            <button class="model-btn" onclick="selectModel('grp', 'criacao_acesso')">Criação de Acesso/Reset</button>
        </div>

        <div id="documentos-models" class="model-selector hidden">
            <a href="documentos/configurar_vpn.pdf" download="configurar_vpn.pdf" class="model-btn">Configurar VPN (PDF)</a>
            <a href="documentos/instrução_normativa_conjunta_cge.pdf" download="instrução_normativa_conjunta_cge.pdf" class="model-btn">Instrução Normativa SEI</a>
            <a href="documentos/planilha_cadastro_sei.xlsx" download="planilha_cadastro_sei.xlsx" class="model-btn">Planilha Cadastro SEI</a>
            <a href="documentos/respostas_padrao_word.docx" download="respostas_padrao_word.docx" class="model-btn">Respostas Padrão (Word)</a>
        </div>

        <div id="utilidades-models" class="model-selector hidden">
            <div class="model-btn" onclick="toggleLink(this)">Letras Maiúsculas <div class="link-options"><a href="https://isaiaschaves.github.io/site_letras_maiusculas/" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://isaiaschaves.github.io/site_letras_maiusculas/')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">Diário Oficial <div class="link-options"><a href="https://diario.ac.gov.br/" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://diario.ac.gov.br/')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">SEI Produção <div class="link-options"><a href="https://app.sei.ac.gov.br/" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://app.sei.ac.gov.br/')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">SIP Produção <div class="link-options"><a href="https://app.sei.ac.gov.br/sip" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://app.sei.ac.gov.br/sip')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">Integração <div class="link-options"><a href="https://integracao.ac.gov.br/" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://integracao.ac.gov.br/')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">GRP Acre <div class="link-options"><a href="http://grp.ac.gov.br/asi/web?action=start&target=loginClass" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('http://grp.ac.gov.br/asi/web?action=start&target=loginClass')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">SEI Treinar <div class="link-options"><a href="https://seitreinar.ac.gov.br/" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://seitreinar.ac.gov.br/')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">SIP Treinar <div class="link-options"><a href="https://seitreinar.ac.gov.br/sip" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://seitreinar.ac.gov.br/sip')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">Rocket SEAD <div class="link-options"><a href="https://mensageiro.ac.gov.br/home" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://mensageiro.ac.gov.br/home')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">ACL <div class="link-options"><a href="https://acl.ac.gov.br/login" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://acl.ac.gov.br/login')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">MeuAC <div class="link-options"><a href="https://www.ac.gov.br/" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://www.ac.gov.br/')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">Minha Conta <div class="link-options"><a href="https://minhaconta.ac.gov.br/" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://minhaconta.ac.gov.br/')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">ReUse <div class="link-options"><a href="https://reuse.ac.gov.br/inicio" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://reuse.ac.gov.br/inicio')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">e-Turmalina <div class="link-options"><a href="https://sigrh.ac.gov.br/eturmalina/" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://sigrh.ac.gov.br/eturmalina/')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">Quartzo <div class="link-options"><a href="https://sigrh.ac.gov.br/quartzo/" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://sigrh.ac.gov.br/quartzo/')" class="opt-btn">Copiar</button></div></div>
            <div class="model-btn" onclick="toggleLink(this)">e-Social <div class="link-options"><a href="https://sigrh.ac.gov.br/esocial/" target="_blank" class="opt-btn">Acessar</a><button onclick="copyLink('https://sigrh.ac.gov.br/esocial/')" class="opt-btn">Copiar</button></div></div>
        </div>

        <div id="notas-models" class="hidden">
            <textarea id="notes-area" oninput="saveNotes()" placeholder="Escreva seus rascunhos aqui... Tudo é salvo automaticamente."></textarea>
        </div>

        <div id="workspace-area">
            <div id="input-area" class="input-group hidden">
                <div id="fields-container"></div>
            </div>

            <label>Visualização da Resposta (Editável):</label>
            <textarea class="preview-area" id="preview" placeholder="Selecione um modelo acima..."></textarea>
            
            <div id="status"></div>
            
            <div class="action-group">
                <button class="copy-btn" onclick="copyText()">COPIAR RESPOSTA</button>
                <button class="clear-btn" onclick="clearAll()">LIMPAR CAMPOS</button>
            </div>
        </div>
    </div>
</main>

<datalist id="lista-orgaos">
    <option value="ACREDATA - EMPRESA DE PROCESSAMENTO DE DADOS DO ACRE">
    <option value="ACREPREVIDENCIA - INSTITUTO DE PREVIDENCIA DO ESTADO DO ACRE">
    <option value="AGEAC - AGENCIA REGULADORA DOS SERVIÇOS PÚBLICOS DO ESTADO DO ACRE">
    <option value="ANAC - AGENCIA DE NEGOCIOS DO ACRE S.A.">
    <option value="BANACRE - BANCO DO ESTADO DO ACRE SA">
    <option value="CAGEACRE - COMPANHIA DE ARMAZENS GERAIS E ENTREPOSTOS DO ACRE">
    <option value="CAL - CONSÓRCIO INTERESTADUAL DE DESENVOLVIMENTO DA AMAZÔNIA LEGAL">
    <option value="CASACIVIL - CASA CIVIL">
    <option value="CASMIL - CASA MILITAR">
    <option value="CBMAC - CORPO DE BOMBEIROS MILITAR">
    <option value="CDSA - COMPANHIA DE DESENVOLVIMENTO E SERVIÇOS AMBIENTAIS">
    <option value="CEPDC - COORDENADORIA ESTADUAL DE PROTEÇÃO E DEFESA CIVIL">
    <option value="CGE - CONTROLADORIA GERAL DO ESTADO DO ACRE">
    <option value="CILA - COMPANHIA INDUSTRIAL DE LATICINIOS DO ACRE">
    <option value="CODISACRE - COMPANHIA DE DESENVOLVIMENTO INDUSTRIAL DO ESTADO DO ACRE">
    <option value="COHAB - COMPANHIA DE HABITAÇÃO DO ACRE">
    <option value="COLONACRE - COMPANHIA DE DESENVOLVIMENTO AGRÁRIO E COLONIZAÇÃO DO ACRE">
    <option value="DERACRE - DEPARTAMENTO DE ESTRADAS DE RODAGEM INFRAESTRUTURA HIDROVIÁRIA E AEROPORTUÁRIA DO ACRE">
    <option value="DETRAN - DEPARTAMENTO ESTADUAL DE TRÂNSITO">
    <option value="DPE - DEFENSORIA PÚBLICA DO ESTADO DO ACRE">
    <option value="EMATER - EMPRESA DE ASSISTÊNCIA TÉCNICA E EXTENSÃO RURAL DO ACRE">
    <option value="FADES - FUNDAÇÃO DE APOIO AO DESENVOLVIMENTO ECONÔMICO E SOCIAL DO ACRE">
    <option value="FAPAC - FUNDAÇÃO DE AMPARO À PESQUISA DO ESTADO DO ACRE">
    <option value="FDRHCD - FUNDAÇÃO DE DESENVOLVIMENTO DE RECURSOS HUMANOS DA CULTURA E DO DESPORTO DO ESTADO DO ACRE">
    <option value="FEM - FUNDAÇÃO DE CULTURA ELIAS MANSOUR">
    <option value="FUNBESA - FUNDAÇÃO DO BEM ESTAR SOCIAL DO ACRE">
    <option value="FUNDAC - FUNDAÇÃO ALDEIA DE COMUNICAÇÃO DO ACRE">
    <option value="FUNDHACRE - FUNDAÇÃO HOSPITAL ESTADUAL DO ACRE">
    <option value="FUNTAC - FUNDAÇÃO DE TECNOLOGIA DO ACRE">
    <option value="GABGOV - GABINETE DO GOVERNADOR">
    <option value="GABVICE - GABINETE DO(A) VICE-GOVERNADOR(A)">
    <option value="IAPEN - INSTITUTO DE ADMINISTRAÇÃO PENITENCIÁRIA">
    <option value="IDAF - INSTITUTO DE DEFESA AGROPECUÁRIA E FLORESTAL DO ESTADO DO ACRE">
    <option value="IEPTEC - INSTITUTO ESTADUAL DE EDUCAÇÃO PROFISSIONAL E TECNOLÓGICA">
    <option value="IMAC - INSTITUTO DE MEIO AMBIENTE DO ACRE">
    <option value="IMC - INSTITUTO DE MUDANÇAS CLIMATICAS E REGULAÇÃO DE SERVIÇOS AMBIENTAIS">
    <option value="IPEM - INSTITUTO DE PESOS E MEDIDAS DO ESTADO DO ACRE">
    <option value="ISE - INSTITUTO SOCIOEDUCATIVO DO ESTADO DO ACRE">
    <option value="ITERACRE - INSTITUTO DE TERRAS DO ACRE">
    <option value="JUCEAC - JUNTA COMERCIAL DO ESTADO DO ACRE">
    <option value="PCAC - POLICIA CIVIL DO ESTADO DO ACRE">
    <option value="PGE - PROCURADORIA-GERAL DO ESTADO DO ACRE">
    <option value=" PMAC - POLÍCIA MILITAR">
    <option value="PROCON - INSTITUTO DE PROTEÇÃO E DEFESA DO CONSUMIDOR DO ACRE">
    <option value="REPAC - REPRESENTAÇÃO DO GOVERNO EM BRASÍLIA">
    <option value="SANACRE - COMPANHIA DE SANEAMENTO DO ESTADO DO ACRE">
    <option value="SANEACRE - SERVIÇO DE ÁGUA E ESGOTO DO ESTADO DO ACRE">
    <option value="SEAD - SECRETARIA DE ESTADO DE ADMINISTRAÇÃO">
    <option value="SEAGRI - SECRETARIA DE ESTADO DE AGRICULTURA">
    <option value="SEASDH - SECRETARIA DE ESTADO DE ASSISTENCIA SOCIAL E DIREITOS HUMANOS">
    <option value="SECOM - SECRETARIA DE ESTADO DE COMUNICAÇÃO">
    <option value="SEE - SECRETARIA DE ESTADO DE EDUCAÇÃO E CULTURA">
    <option value="SEEL - SECRETARIA EXTRAORDINÁRIA DE ESPORTE E LAZER">
    <option value="SEFAZ - SECRETARIA DE ESTADO DA FAZENDA">
    <option value="SEGOV - SECRETARIA DE ESTADO DE GOVERNO">
    <option value="SEHURB - SECRETARIA DE ESTADO DE HABITAÇÃO E URBANISMO">
    <option value="SEICT - SECRETARIA DE ESTADO DE INDÚSTRIA, CIÊNCIA E TECNOLOGIA">
    <option value="SEJUSP - SECRETARIA DE ESTADO DE JUSTIÇA E SEGURANÇA PÚBLICA">
    <option value="SEMA - SECRETARIA DE ESTADO DO MEIO AMBIENTE">
    <option value="SEMULHER - SECRETARIA DE ESTADO DA MULHER">
    <option value="SEOP - SECRETARIA DE ESTADO DE OBRAS PÚBLICAS">
    <option value="SEPI - SECRETARIA EXTRAORDINARIA DOS POVOS INDIGENAS">
    <option value="SEPLAG - SECRETARIA DE ESTADO DE PLANEJAMENTO E GESTÃO">
    <option value="SEPLAN - SECRETARIA DE ESTADO DE PLANEJAMENTO">
    <option value="SERF - SECRETARIA DE ESTADO DE RELAÇÕES FEDERATIVAS">
    <option value="SESACRE - SECRETARIA DE ESTADO DE SAÚDE">
    <option value="SETE - SECRETARIA DE ESTADO DE TURISMO E EMPREENDEDORISMO">
    <option value="SPLAN - SECRETARIA DE ESTADO DE PLANEJAMENTO- EXTINTO">
    <option value="SRPI - SECRETARIA DE RELAÇÕES POLÍTICAS E INSTITUCIONAIS">
</datalist>

<script>
    const SENHA_CORRETA = "suporte123";
    let currentSystem = 'sei';
    let currentModel = '';

    const database = {
        sei: {
            criacao: { 
                inputs: ['Dados do Usuário'], 
                placeholder: "Ex: elis.asandra / SEC\tSEC - SECSINC / SEC\tBásico",
                fn: (v) => `Prezado(a),\n\nUsuário(s) cadastrado(s) conforme solicitado.\n\n${v[0]}\nSenha: é a mesma de acesso ao webmail, internet.\n\nEstamos à disposição para quaisquer dúvidas ou informações adicionais.` 
            },
            lotacao: { 
                inputs: ['Dados'], 
                placeholder: "Ex: salve.engano / SEC\tSEC - SECSINC / SEC\tBásico",
                fn: (v) => `Prezado(a),\n\nSua solicitação foi atendida.\n${v[0]}\n\nEstamos à disposição para quaisquer dúvidas ou informações adicionais.` 
            },
            desligamento: { inputs: [], fn: () => `Prezado(a),\n\nSua solicitação foi atendida. As permissões de acesso SEI, expiram hoje, às 23h59.\n\nEstamos à disposição para quaisquer dúvidas ou informações adicionais.` },
            reabertura: { 
                inputs: ['Dados'], 
                placeholder: "Ex: traumatismo.ucraniano / SEC\tSEC - SECSINC / SEC\tReabreProcesso",
                fn: (v) => `Prezado(a),\n\nPermissão de reabertura de processo concedida para o último usuário a finalizar o processo.\nPermissão ativa até o próximo dia útil às 23h59, caso o usuário não efetue a reabertura no prazo, por favor abrir outro chamado solicitando liberação novamente.\n\n${v[0]}\n\n1 - Sair do SEI e entrar novamente;\n2 - Pesquisar o processo informado;\n3 - Clicar no ícone "Reabrir processo" que está localizado ao lado do ícone de "anotações".` 
            },
            desanexar: { 
                inputs: ['Dados'], 
                placeholder: "Ex: eitu.deoculos / SEC\tSEC - SECSINC / SEC\tDesanexaProcesso",
                fn: (v) => `Prezado(a),\n\nPermissão ativa até o próximo dia útil às 23h59, caso o usuário não efetue a desanexação no prazo, por favor abrir outro chamado solicitando liberação novamente.\n\n${v[0]}\n\nPROCEDIMENTOS PARA DESANEXAÇÃO:\n\n1 - Pesquisar o processo principal informado;\n2 - Clicar no processo anexado;\n3 - Clicar no ícone "desanexar processo" , que está localizado ao lado do ícone de "Ciência";\n4 - Expor o motivo e clicar em salvar.` 
            },
            restrito: { inputs: [], fn: () => `Prezado(a),\n\nO processo informado encontra-se restrito. Por favor, anexar o print do andamento do processo para continuidade do atendimento.\n\nProcedimentos:\n1 - Consultar o processo\n2 - Clicar no botão “consultar andamento”` },
            sem_resposta: { inputs: [], fn: () => `Prezado(a),\n\nDevido à falta de retorno, estamos finalizando este chamado.\n\nCaso necessite prosseguir, por favor, faça uma nova solicitação.` },
            unidade: { inputs: [], fn: () => `Prezado(a),\n\nInformo que o(a) servidor(a) informado(a) já possui acesso com permissão de assinatura (Básico) em outra unidade.\n\nPara a concessão de assinatura em mais de um setor (unidade), é necessário anexar, no chamado, cópia da Portaria publicada no Diário Oficial, de forma explícita, citando “cumulativamente” ou “sem prejuízo das demais funções”.\n\nCaso não haja Portaria, recomendamos a utilização da funcionalidade “Bloco de Assinatura”, disponibilizada no SEI.\n\nPermanecemos à disposição para quaisquer esclarecimentos.` },
            planilha: { inputs: [], fn: () => `Prezado(a),\n\nPara cadastro e acesso ao SEI, é necessário anexar a planilha de cadastro devidamente preenchida com os dados do(a) servidor(a).` },
            abertura_bd: { 
                inputs: ['Chamado nº', 'Tipo de Relatório', 'Órgão/Unidade/Usuário'], 
                fn: (v) => `Em atenção ao chamado nº ${v[0]}, que solicita relatório ${v[1]} ${v[2]}.` 
            },
            demanda_user: { 
                inputs: [], 
                fn: () => `Prezado,\n\nPara atender à sua solicitação, foi necessária a abertura de uma demanda junto ao setor de Infraestrutura e Banco de Dados, com previsão de conclusão em até 7 dias úteis.\nApós a finalização, os relatórios serão anexados a este chamado.\n\nFicamos à disposição para quaisquer esclarecimentos.` 
            }
        },
        eturmalina: {
            criacao_acesso: { inputs: [], fn: () => `Prezado,\n\nO acesso ao sistema eTurmalina foi concedido.\n\nUsuário: CPF do servidor\nSenha: CPF do servidor\n\nO próprio sistema orientará o usuário quanto à troca de senha no primeiro acesso.\n\nLink de acesso: http://sigrh.ac.gov.br/eturmalina` },
            reset_senha: { inputs: [], fn: () => `Prezado,\n\nInformo que foi realizado o reset de senha do acesso ao sistema eTurmalina.\n\nUsuário: CPF do servidor\nSenha: CPF do servidor\n\nO próprio sistema orientará o usuário quanto à troca de senha no primeiro acesso após o reset.\nLink de acesso: http://sigrh.ac.gov.br/eturmalina` },
            abaco: { inputs: ['Número do Chamado'], fn: (v) => `Prezado(a),\n\nInformo que foi aberto chamado junto à empresa Ábaco (${v[0]}). Assim que obtivermos um retorno, entraremos em contato.` }
        },
        integracao: {
            criacao_email: { inputs: ['Login', 'Senha Provisória'], fn: (v) => `Prezado(a),\n\nUsuário(s) cadastrado(s) conforme solicitado.\n\nLogin: ${v[0]}\nSenha Provisória: ${v[1]}\nO servidor(a) deve acessar o minhaconta.ac.gov.br\nUsar a senha provisória de forma escrita (não copiar e colar)\n\nEstamos à disposição para quaisquer dúvidas ou informações adicionais.` },
            reset_senha: { inputs: ['Senha Provisória'], fn: (v) => `Prezado(a),\n\nSenha do servidor(a) redefinida!\nO servidor(a) deve acessar o minhaconta.ac.gov.br\nUsar a senha provisória de forma escrita (não copiar e colar): ${v[0]}` }
        },
        grp: {
            criacao_acesso: { 
                inputs: ['Usuário'], 
                placeholder: "Ex: quarenta e lá vai pancada",
                fn: (v) => `Prezado(a),\nSua solicitação foi atendida.\n\nUsuário(s): \n${v[0]}\nSenha: 123\n\nFicamos à disposição para quaisquer esclarecimentos.`
            }
        }
    };

    function checkPass() {
        const input = document.getElementById('pass-input').value;
        if(input === SENHA_CORRETA) {
            localStorage.setItem('acessoPermitido', 'true');
            document.getElementById('login-overlay').style.display = 'none';
        } else {
            document.getElementById('error-msg').innerText = "Senha incorreta!";
        }
    }

    function checkLoginState() {
        if(localStorage.getItem('acessoPermitido') === 'true') {
            document.getElementById('login-overlay').style.display = 'none';
        }
    }

    function toggleLink(btn) {
        const isOpen = btn.classList.contains('open');
        document.querySelectorAll('.model-btn').forEach(b => b.classList.remove('open'));
        if (!isOpen) btn.classList.add('open');
    }

    function copyLink(url) {
        navigator.clipboard.writeText(url);
        const st = document.getElementById('status');
        st.innerText = "Link copiado!";
        setTimeout(() => st.innerText = "", 2000);
    }

    function showSystem(sys) {
        currentSystem = sys;
        currentModel = '';
        const titles = { 
            sei: 'SEI - Sistema Eletrônico de Informações', 
            eturmalina: 'e-Turmalina', 
            integracao: 'Integração', 
            grp: 'GRP', 
            documentos: 'Documentos e Modelos',
            utilidades: 'Utilidades e Links Importantes',
            notas: 'Bloco de Notas Pessoal'
        };
        document.getElementById('system-title').innerText = titles[sys];
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(`btn-${sys}`).classList.add('active');
        
        document.querySelectorAll('.model-selector, #notas-models').forEach(div => div.classList.add('hidden'));
        const target = document.getElementById(`${sys}-models`);
        if(target) target.classList.remove('hidden');

        const workspace = document.getElementById('workspace-area');
        if (['notas', 'documentos', 'utilidades'].includes(sys)) {
            workspace.classList.add('hidden');
        } else {
            workspace.classList.remove('hidden');
        }

        document.getElementById('input-area').classList.add('hidden');
        document.getElementById('preview').value = "";
    }

    function selectModel(sys, mod) {
        if (['utilidades', 'documentos', 'notas'].includes(sys)) return;
        currentModel = mod;
        const config = database[sys][mod];
        document.querySelectorAll('.model-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
        const container = document.getElementById('fields-container');
        container.innerHTML = '';
        if(config.inputs && config.inputs.length > 0) {
            document.getElementById('input-area').classList.remove('hidden');
            if (mod === 'abertura_bd') {
                container.innerHTML += `<label>Chamado nº:</label>
                <input type="text" class="input-text" id="input-0" oninput="updatePreview()">`;
                container.innerHTML += `<label>Tipo de Relatório:</label>
                <select class="input-text" id="input-1" onchange="updatePreview(); toggleBDField()">
                    <option value="contendo os usuários que possuem acesso ao órgão">Acesso ao órgão</option>
                    <option value="contendo os usuários que possuem acesso à unidade">Acesso à unidade</option>
                    <option value="contendo os usuários que iniciaram processos na unidade">Iniciaram processos na unidade</option>
                    <option value="contendo histórico de acessos do usuário">Histórico de acessos do usuário</option>
                </select>`;
                container.innerHTML += `<label id="label-dinamico">Órgão:</label>
                <input type="text" class="input-text" id="input-2" list="lista-orgaos" oninput="updatePreview()">`;
            } else {
                config.inputs.forEach((labelTxt, index) => {
                    const label = document.createElement('label');
                    label.innerText = labelTxt + ":";
                    container.appendChild(label);
                    if((sys === 'sei' && ['criacao', 'lotacao', 'reabertura', 'desanexar'].includes(mod)) || (sys === 'grp' && mod === 'criacao_acesso')) {
                        const area = document.createElement('textarea');
                        area.id = `input-${index}`;
                        area.placeholder = config.placeholder || "Digite os dados...";
                        area.oninput = updatePreview;
                        container.appendChild(area);
                    } else {
                        const input = document.createElement('input');
                        input.className = 'input-text';
                        input.id = `input-${index}`;
                        input.placeholder = config.placeholder || "";
                        input.oninput = updatePreview;
                        container.appendChild(input);
                    }
                });
            }
        } else { document.getElementById('input-area').classList.add('hidden'); }
        updatePreview();
    }

    function toggleBDField() {
        const tipo = document.getElementById('input-1').value;
        const label = document.getElementById('label-dinamico');
        const input = document.getElementById('input-2');
        if (tipo.includes('órgão')) { label.innerText = "Órgão:"; input.setAttribute('list', 'lista-orgaos');
        } else if (tipo.includes('unidade')) { label.innerText = "Unidade:"; input.removeAttribute('list');
        } else { label.innerText = "Usuário:"; input.removeAttribute('list'); }
    }

    function updatePreview() {
        if(!currentModel) return;
        const config = database[currentSystem][currentModel];
        const values = config.inputs.map((_, i) => document.getElementById(`input-${i}`).value || "____");
        document.getElementById('preview').value = config.fn(values);
    }

    function copyText() {
        const text = document.getElementById('preview').value;
        if(!text) return;
        const textToCopy = text.split('\n').map(line => line === '' ? '⠀' : line).join('\n');
        navigator.clipboard.writeText(textToCopy).then(() => {
            const status = document.getElementById('status');
            status.innerText = "Copiado com sucesso!";
            setTimeout(() => { status.innerText = ""; }, 2000);
        });
    }

    function clearAll() {
        if(!currentModel) return;
        database[currentSystem][currentModel].inputs.forEach((_, i) => {
            const el = document.getElementById(`input-${i}`);
            if(el) el.value = '';
        });
        updatePreview();
    }

    /* PERSISTENCIA NOTAS */
    function saveNotes() {
        localStorage.setItem('rascunho_notas', document.getElementById('notes-area').value);
    }
    function loadNotes() {
        const saved = localStorage.getItem('rascunho_notas');
        if(saved) document.getElementById('notes-area').value = saved;
    }
</script>
</body>
</html>